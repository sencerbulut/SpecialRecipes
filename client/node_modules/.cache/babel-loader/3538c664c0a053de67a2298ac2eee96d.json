{"ast":null,"code":"var _jsxFileName = \"D:\\\\308 Project\\\\SpecialRecipes\\\\client\\\\src\\\\components\\\\shop\\\\home\\\\ProductCategoryDropdown.js\";\nimport React, { Fragment, useContext, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { HomeContext } from \"./index\";\nimport { getAllCategory } from \"../../admin/categories/FetchApi\";\nimport { getAllProduct, productByPrice } from \"../../admin/products/FetchApi\";\nimport \"./style.css\";\nconst apiURL = process.env.REACT_APP_API_URL;\n\nconst CategoryList = () => {\n  const history = useHistory();\n  const {\n    data\n  } = useContext(HomeContext);\n  const [categories, setCategories] = useState(null);\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      let responseData = await getAllCategory();\n\n      if (responseData && responseData.Categories) {\n        setCategories(responseData.Categories);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${data.categoryListDropdown ? \"\" : \"hidden\"} my-4`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-1 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, categories && categories.length > 0 ? categories.map((item, index) => {\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: e => history.push(`/products/category/${item._id}`),\n      className: \"col-span-1 m-2 flex flex-col items-center justify-center space-y-2 cursor-pointer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: `${apiURL}/uploads/categories/${item.cImage}`,\n      alt: \"pic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"font-medium\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 19\n      }\n    }, item.cName)));\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-xl text-center my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"No Category\")));\n};\n\nconst FilterList = () => {\n  const {\n    data,\n    dispatch\n  } = useContext(HomeContext);\n  const [range, setRange] = useState(0);\n\n  const rangeHandle = e => {\n    setRange(e.target.value);\n    fetchData(e.target.value);\n  };\n\n  const fetchData = async price => {\n    if (price === \"all\") {\n      try {\n        let responseData = await getAllProduct();\n\n        if (responseData && responseData.Products) {\n          dispatch({\n            type: \"setProducts\",\n            payload: responseData.Products\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      dispatch({\n        type: \"loading\",\n        payload: true\n      });\n\n      try {\n        setTimeout(async () => {\n          let responseData = await productByPrice(price);\n\n          if (responseData && responseData.Products) {\n            console.log(responseData.Products);\n            dispatch({\n              type: \"setProducts\",\n              payload: responseData.Products\n            });\n            dispatch({\n              type: \"loading\",\n              payload: false\n            });\n          }\n        }, 700);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  const closeFilterBar = () => {\n    fetchData(\"all\");\n    dispatch({\n      type: \"filterListDropdown\",\n      payload: !data.filterListDropdown\n    });\n    setRange(0);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${data.filterListDropdown ? \"\" : \"hidden\"} my-4`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-full flex flex-col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"font-medium py-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, \"Filter by price\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex justify-between items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col space-y-2  w-2/3 lg:w-2/4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"points\",\n    className: \"text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, \"Price (between 0 and 10$):\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"font-semibold text-yellow-700\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 15\n    }\n  }, range, \".00$\"), \" \"), /*#__PURE__*/React.createElement(\"input\", {\n    value: range,\n    className: \"slider\",\n    type: \"range\",\n    id: \"points\",\n    min: \"0\",\n    max: \"1000\",\n    step: \"10\",\n    onChange: e => rangeHandle(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => closeFilterBar(),\n    className: \"cursor-pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"w-8 h-8 text-gray-700 hover:bg-gray-200 rounded-full p-1\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M6 18L18 6M6 6l12 12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nconst Search = () => {\n  const {\n    data,\n    dispatch\n  } = useContext(HomeContext);\n  const [search, setSearch] = useState(\"\");\n  const [productArray, setPa] = useState(null);\n\n  const searchHandle = e => {\n    setSearch(e.target.value);\n    fetchData();\n    dispatch({\n      type: \"searchHandleInReducer\",\n      payload: e.target.value,\n      productArray: productArray\n    });\n  };\n\n  const fetchData = async () => {\n    dispatch({\n      type: \"loading\",\n      payload: true\n    });\n\n    try {\n      setTimeout(async () => {\n        let responseData = await getAllProduct();\n\n        if (responseData && responseData.Products) {\n          setPa(responseData.Products);\n          dispatch({\n            type: \"loading\",\n            payload: false\n          });\n        }\n      }, 700);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const closeSearchBar = () => {\n    dispatch({\n      type: \"searchDropdown\",\n      payload: !data.searchDropdown\n    });\n    fetchData();\n    dispatch({\n      type: \"setProducts\",\n      payload: productArray\n    });\n    setSearch(\"\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${data.searchDropdown ? \"\" : \"hidden\"} my-4 flex items-center justify-between`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: search,\n    onChange: e => searchHandle(e),\n    className: \"px-4 text-xl py-4 focus:outline-none\",\n    type: \"text\",\n    placeholder: \"Search products...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    onClick: e => closeSearchBar(),\n    className: \"cursor-pointer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: \"w-8 h-8 text-gray-700 hover:bg-gray-200 rounded-full p-1\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    strokeWidth: 2,\n    d: \"M6 18L18 6M6 6l12 12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }))));\n};\n\nconst ProductCategoryDropdown = props => {\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CategoryList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(FilterList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ProductCategoryDropdown;","map":{"version":3,"sources":["D:/308 Project/SpecialRecipes/client/src/components/shop/home/ProductCategoryDropdown.js"],"names":["React","Fragment","useContext","useState","useEffect","useHistory","HomeContext","getAllCategory","getAllProduct","productByPrice","apiURL","process","env","REACT_APP_API_URL","CategoryList","history","data","categories","setCategories","fetchData","responseData","Categories","error","console","log","categoryListDropdown","length","map","item","index","e","push","_id","cImage","cName","FilterList","dispatch","range","setRange","rangeHandle","target","value","price","Products","type","payload","setTimeout","closeFilterBar","filterListDropdown","Search","search","setSearch","productArray","setPa","searchHandle","closeSearchBar","searchDropdown","ProductCategoryDropdown","props"],"mappings":"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","sourcesContent":["import React, { Fragment, useContext, useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { HomeContext } from \"./index\";\nimport { getAllCategory } from \"../../admin/categories/FetchApi\";\nimport { getAllProduct, productByPrice } from \"../../admin/products/FetchApi\";\nimport \"./style.css\";\n\nconst apiURL = process.env.REACT_APP_API_URL;\n\nconst CategoryList = () => {\n  const history = useHistory();\n  const { data } = useContext(HomeContext);\n  const [categories, setCategories] = useState(null);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      let responseData = await getAllCategory();\n      if (responseData && responseData.Categories) {\n        setCategories(responseData.Categories);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className={`${data.categoryListDropdown ? \"\" : \"hidden\"} my-4`}>\n      <hr />\n      <div className=\"py-1 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4\">\n        {categories && categories.length > 0 ? (\n          categories.map((item, index) => {\n            return (\n              <Fragment key={index}>\n                <div\n                  onClick={(e) =>\n                    history.push(`/products/category/${item._id}`)\n                  }\n                  className=\"col-span-1 m-2 flex flex-col items-center justify-center space-y-2 cursor-pointer\"\n                >\n                  <img\n                    src={`${apiURL}/uploads/categories/${item.cImage}`}\n                    alt=\"pic\"\n                  />\n                  <div className=\"font-medium\">{item.cName}</div>\n                </div>\n              </Fragment>\n            );\n          })\n        ) : (\n          <div className=\"text-xl text-center my-4\">No Category</div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst FilterList = () => {\n  const { data, dispatch } = useContext(HomeContext);\n  const [range, setRange] = useState(0);\n\n  const rangeHandle = (e) => {\n    setRange(e.target.value);\n    fetchData(e.target.value);\n  };\n\n  const fetchData = async (price) => {\n    if (price === \"all\") {\n      try {\n        let responseData = await getAllProduct();\n        if (responseData && responseData.Products) {\n          dispatch({ type: \"setProducts\", payload: responseData.Products });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    } else {\n      dispatch({ type: \"loading\", payload: true });\n      try {\n        setTimeout(async () => {\n          let responseData = await productByPrice(price);\n          if (responseData && responseData.Products) {\n            console.log(responseData.Products);\n            dispatch({ type: \"setProducts\", payload: responseData.Products });\n            dispatch({ type: \"loading\", payload: false });\n          }\n        }, 700);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  const closeFilterBar = () => {\n    fetchData(\"all\");\n    dispatch({ type: \"filterListDropdown\", payload: !data.filterListDropdown });\n    setRange(0);\n  };\n\n  return (\n    <div className={`${data.filterListDropdown ? \"\" : \"hidden\"} my-4`}>\n      <hr />\n      <div className=\"w-full flex flex-col\">\n        <div className=\"font-medium py-2\">Filter by price</div>\n        <div className=\"flex justify-between items-center\">\n          <div className=\"flex flex-col space-y-2  w-2/3 lg:w-2/4\">\n            <label htmlFor=\"points\" className=\"text-sm\">\n              Price (between 0 and 10$):{\" \"}\n              <span className=\"font-semibold text-yellow-700\">{range}.00$</span>{\" \"}\n            </label>\n            <input\n              value={range}\n              className=\"slider\"\n              type=\"range\"\n              id=\"points\"\n              min=\"0\"\n              max=\"1000\"\n              step=\"10\"\n              onChange={(e) => rangeHandle(e)}\n            />\n          </div>\n          <div onClick={(e) => closeFilterBar()} className=\"cursor-pointer\">\n            <svg\n              className=\"w-8 h-8 text-gray-700 hover:bg-gray-200 rounded-full p-1\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Search = () => {\n  const { data, dispatch } = useContext(HomeContext);\n  const [search, setSearch] = useState(\"\");\n  const [productArray, setPa] = useState(null);\n\n  const searchHandle = (e) => {\n    setSearch(e.target.value);\n    fetchData();\n    dispatch({\n      type: \"searchHandleInReducer\",\n      payload: e.target.value,\n      productArray: productArray,\n    });\n  };\n\n  const fetchData = async () => {\n    dispatch({ type: \"loading\", payload: true });\n    try {\n      setTimeout(async () => {\n        let responseData = await getAllProduct();\n        if (responseData && responseData.Products) {\n          setPa(responseData.Products);\n          dispatch({ type: \"loading\", payload: false });\n        }\n      }, 700);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const closeSearchBar = () => {\n    dispatch({ type: \"searchDropdown\", payload: !data.searchDropdown });\n    fetchData();\n    dispatch({ type: \"setProducts\", payload: productArray });\n    setSearch(\"\");\n  };\n\n  return (\n    <div\n      className={`${\n        data.searchDropdown ? \"\" : \"hidden\"\n      } my-4 flex items-center justify-between`}\n    >\n      <input\n        value={search}\n        onChange={(e) => searchHandle(e)}\n        className=\"px-4 text-xl py-4 focus:outline-none\"\n        type=\"text\"\n        placeholder=\"Search products...\"\n      />\n      <div onClick={(e) => closeSearchBar()} className=\"cursor-pointer\">\n        <svg\n          className=\"w-8 h-8 text-gray-700 hover:bg-gray-200 rounded-full p-1\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M6 18L18 6M6 6l12 12\"\n          />\n        </svg>\n      </div>\n    </div>\n  );\n};\n\nconst ProductCategoryDropdown = (props) => {\n  return (\n    <Fragment>\n      <CategoryList />\n      <FilterList />\n      <Search />\n    </Fragment>\n  );\n};\n\nexport default ProductCategoryDropdown;\n"]},"metadata":{},"sourceType":"module"}